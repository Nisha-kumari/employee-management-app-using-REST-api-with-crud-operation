
<div class="modal-header">
    <h3>Update Form</h3>
</div>
<form name="form.userForm" ng-submit="submitForm()" enctype="multipart/form-data" novalidate>
    <div class="modal-body">

        <div class="form-group">
            <label>First Name</label>
            <input type="text" name="firstName" class="form-control" ng-model="user.name.fName" required>
            <p ng-show="(form.userForm.firstName.$invalid && form.userForm.firstName.$touched)  || (form.userForm.$submitted && form.userForm.firstName.$invalid)" class="help-block">Your First Name is required.</p>
        </div>
        <div class="form-group">
            <label>Middle Name</label>
            <input type="text" name="middleName" class="form-control" ng-model="user.name.mName" >
            <p ng-show="(form.userForm.middleName.$invalid && form.userForm.middleName.$touched) || (form.userForm.$submitted && form.userForm.middleName.$invalid)" class="help-block">Your Middle Name is required.</p>
        </div>
        <div class="form-group">
            <label>Last Name</label>
            <input type="text" name="lastName" class="form-control" ng-model="user.name.lName" >
            <p ng-show="(form.userForm.lastName.$invalid && form.userForm.lastName.$touched) || (form.userForm.$submitted && form.userForm.lastName.$invalid)" class="help-block">Your Last Name is required.</p>
        </div>
        <div class="form-group">
            <label>Department</label>
            <input type="text" name="department" class="form-control" ng-model="user.department" required>
            <p ng-show="(form.userForm.department.$invalid && form.userForm.department.$touched) || (form.userForm.$submitted && form.userForm.department.$invalid)" class="help-block">Your Department is required.</p>
        </div>
        <div class="form-group">
            <label>Work Email</label>
            <input type="email" name="workEmail" class="form-control" ng-model="user.email.personal" required>
            <p ng-show="(form.userForm.workEmail.$invalid && form.userForm.workEmail.$touched) || (form.userForm.$submitted && form.userForm.workEmail.$invalid)" class="help-block">Enter a valid email.</p>
        </div>
        <div class="form-group">
            <label>Personal Email</label>
            <input type="email" name="personalEmail" class="form-control" ng-model="user.email.work" required>
            <p ng-show="(form.userForm.personalEmail.$invalid && form.userForm.personalEmail.$touched) || (form.userForm.$submitted && form.userForm.personalEmail.$invalid)" class="help-block">Enter a valid email.</p>
        </div>
        <div class="form-group">
            <label>Mobile</label>
            <input type="text" name="mobile" class="form-control" ng-model="user.phone" required>
            <p ng-show="(form.userForm.mobile.$invalid && form.userForm.mobile.$touched) || (form.userForm.$submitted && form.userForm.mobile.$invalid)" class="help-block">Enter a valid mobile.</p>
        </div>
        <div class="form-group">
          <label>Image upload:</label>
          <input type="file" ngf-select ng-model="picFile" name="file"
                 accept="image/*" ngf-max-size="1MB" required
                 ngf-model-invalid="errorFile">

          <span ng-show="form.userForm.file.$error.maxSize">File too large
              {{errorFile.size / 1000000|number:1}}MB: Max is 1MB</span>

          <img ng-show="form.userForm.file.$valid" ng-src={{picFile}} ngf-thumbnail="picFile" class="thumb">
          <button ng-click="picFile = null" ng-show="picFile">Remove</button>
          <br>

        </div>

    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-primary" ng-disabled="form.userForm.$invalid" ng-click="update(picFile)">Update</button>
        <button class="btn btn-warning" ng-click="$dismiss('cancel')">Cancel</button>
    </div>
</form>
